let express,mongoose,models;_1a5‍.w("express",[["default",["express"],function(v){express=v}]]);_1a5‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_1a5‍.w("./models/index.js",[["default",["models"],function(v){models=v}]]);


const app = express()
const port = 3000
app.use(express.json())

const url = 'mongodb://127.0.0.1:27017/test-server';
async function connectWithDB() {
    try {
      await mongoose.connect(url, {
        useNewUrlParser: true,  
        useUnifiedTopology: true, 
      });
      console.log('Connected to MongoDB');
      // Rest of your code here
    } catch (error) {
      _1a5‍.g.console.error('Error connecting to MongoDB:', error.message);
    }
  }
  
   connectWithDB();
  const log =(msg)=>_1a5‍.g.console.log(msg)
  app.get("/", async (req, res) => {
   res.send("hello word"+ req.query.id)
  })
  app.post("/user", async (req, res) => {
    const body = req.body
    const user =await new models.user({name:body.name,dateTime: new Date(),email:body.email})
    user.save()
    res.send(user)
})
log(models)
app.listen(port, () => {
    _1a5‍.g.console.log("test server port - " + port)
})
